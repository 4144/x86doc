<!DOCTYPE html>
<html>
<head>
	<meta charset="UTF-8"/>
	<link rel="stylesheet" type="text/css" href="style.css"/>
	<title>RDFSBASE/RDGSBASE—Read FS/GS Segment Base</title>
</head>
<body>
<h1 id="rdfsbase-rdgsbase-read-fs-gs-segment-base">RDFSBASE/RDGSBASE—Read FS/GS Segment Base</h1>
<table>
<tr>
	<td>Opcode/Instruction</td>
	<td>Op/En</td>
	<td>64/32bit Mode</td>
	<td>CPUI ture Flag</td>
	<td>Description</td>
</tr>
<tr>
	<td>F3 0F AE /0RDFSBASE r32</td>
	<td>M</td>
	<td>V/I</td>
	<td>FSGSBASE</td>
	<td>Load the 32-bit destination register with the FS base address.</td>
</tr>
<tr>
	<td>REX.W + F3 0F AE /0RDFSBASE r64</td>
	<td>M</td>
	<td>V/I</td>
	<td>FSGSBASE</td>
	<td>Load the 64-bit destination register with the FS base address.</td>
</tr>
<tr>
	<td>F3 0F AE /1RDGSBASE r32</td>
	<td>M</td>
	<td>V/I</td>
	<td>FSGSBASE</td>
	<td>Load the 32-bit destination register with the GS base address.</td>
</tr>
<tr>
	<td>REX.W + F3 0F AE /1RDGSBASE r64</td>
	<td>M</td>
	<td>V/I</td>
	<td>FSGSBASE</td>
	<td>Load the 64-bit destination register with the GS base address.</td>
</tr>
</table>
<h2 id="instruction-operand-encoding">Instruction Operand Encoding</h2>
<table>
<tr>
	<td>Op/En</td>
	<td>Operand 1</td>
	<td>Operand 2</td>
	<td>Operand 3</td>
	<td>Operand 4</td>
</tr>
<tr>
	<td>M</td>
	<td>ModRM:r/m (w)</td>
	<td>NA</td>
	<td>NA</td>
	<td>NA</td>
</tr>
</table>
<h2 id="description">Description</h2>
<p>Loads the general-purpose register indicated by the modR/M:r/m field with the FS or GS segment base address.</p><p>The destination operand may be either a 32-bit or a 64-bit general-purpose register. The REX.W prefix indicates the operand size is 64 bits. If no REX.W prefix is used, the operand size is 32 bits; the upper 32 bits of the source base address (for FS or GS) are ignored and upper 32 bits of the destination register are cleared. This instruction is supported only in 64-bit mode.</p><h2 id="operation">Operation</h2>
<pre>DEST ← FS/GS segment base address;
</pre><h2 id="flags-affected">Flags Affected</h2>
<p>None</p><h2 id="c-c---compiler-intrinsic-equivalent">C/C++ Compiler Intrinsic Equivalent</h2>
<table>
<tr>
	<td>RDFSBASE:</td>
	<td>unsigned int _readfsbase_u32(void );</td>
</tr>
<tr>
	<td>RDFSBASE:</td>
	<td>unsigned __int64 _readfsbase_u64(void );</td>
</tr>
<tr>
	<td>RDGSBASE:</td>
	<td>unsigned int _readgsbase_u32(void );</td>
</tr>
<tr>
	<td>RDGSBASE:</td>
	<td>unsigned __int64 _readgsbase_u64(void );</td>
</tr>
</table>
<h2 id="protected-mode-exceptions">Protected Mode Exceptions</h2>
<table>
<tr>
	<td>#UD</td>
	<td>The RDFSBASE and RDGSBASE instructions are not recognized in protected mode.</td>
</tr>
</table>
<h2 id="real-address-mode-exceptions">Real-Address Mode Exceptions</h2>
<table>
<tr>
	<td>#UD</td>
	<td>The RDFSBASE and RDGSBASE instructions are not recognized in real-address mode.</td>
</tr>
</table>
<h2 id="virtual-8086-mode-exceptions">Virtual-8086 Mode Exceptions</h2>
<table>
<tr>
	<td>#UD</td>
	<td>The RDFSBASE and RDGSBASE instructions are not recognized in virtual-8086 mode.</td>
</tr>
</table>
<h2 id="compatibility-mode-exceptions">Compatibility Mode Exceptions</h2>
<table>
<tr>
	<td>#UD</td>
	<td>The RDFSBASE and RDGSBASE instructions are not recognized in compatibility mode.</td>
</tr>
</table>
<h2 id="64-bit-mode-exceptions">64-Bit Mode Exceptions</h2>
<table>
<tr>
	<td>#UD</td>
	<td>If the LOCK prefix is used. If CR4.FSGSBASE[bit 16] = 0. If CPUID.07H.0H:EBX.FSGSBASE[bit 0] = 0.</td>
</tr>
</table>
</body>
</html>
